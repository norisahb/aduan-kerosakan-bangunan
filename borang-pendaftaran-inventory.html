<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <title>Sistem Pendaftaran Inventory</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1 { text-align: center; }
        form { max-width: 400px; margin: auto; background: #f4f4f4; padding: 15px; border-radius: 5px; }
        label { display: block; margin-top: 10px; }
        input, select, button { width: 100%; padding: 8px; margin-top: 5px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 10px; border: 1px solid #ccc; text-align: center; }
        .btn { padding: 5px 10px; cursor: pointer; border: none; }
        .edit { background-color: #ffc107; }
        .delete { background-color: #dc3545; color: white; }
    </style>
</head>
<body>

<h1>Sistem Pendaftaran Inventory</h1>

<form id="inventoryForm">
    <input type="hidden" id="itemIndex">
    <label>Nama Barang:</label>
    <input type="text" id="nama" required>

    <label>Kategori:</label>
    <select id="kategori" required>
        <option value="">-- Pilih --</option>
        <option value="Elektronik">Elektronik</option>
        <option value="Perabot">Perabot</option>
        <option value="Alat Tulis">Alat Tulis</option>
    </select>

    <label>Kuantiti:</label>
    <input type="number" id="kuantiti" min="1" required>

    <label>Harga (RM):</label>
    <input type="number" id="harga" min="0" step="0.01" required>

    <button type="submit">Simpan</button>
</form>

<h2>Senarai Inventory</h2>
<table>
    <thead>
        <tr>
            <th>Nama Barang</th>
            <th>Kategori</th>
            <th>Kuantiti</th>
            <th>Harga</th>
            <th>Jumlah</th>
            <th>Tindakan</th>
        </tr>
    </thead>
    <tbody id="inventoryTable"></tbody>
</table>

<script>
    let inventory = JSON.parse(localStorage.getItem('inventory')) || [];

    function paparkanInventory() {
        const table = document.getElementById("inventoryTable");
        table.innerHTML = "";
        inventory.forEach((item, index) => {
            table.innerHTML += `
                <tr>
                    <td>${item.nama}</td>
                    <td>${item.kategori}</td>
                    <td>${item.kuantiti}</td>
                    <td>RM ${item.harga.toFixed(2)}</td>
                    <td>RM ${(item.kuantiti * item.harga).toFixed(2)}</td>
                    <td>
                        <button class="btn edit" onclick="editItem(${index})">Edit</button>
                        <button class="btn delete" onclick="padamItem(${index})">Padam</button>
                    </td>
                </tr>
            `;
        });
    }

    document.getElementById("inventoryForm").addEventListener("submit", function(e) {
        e.preventDefault();
        const nama = document.getElementById("nama").value;
        const kategori = document.getElementById("kategori").value;
        const kuantiti = parseInt(document.getElementById("kuantiti").value);
        const harga = parseFloat(document.getElementById("harga").value);
        const index = document.getElementById("itemIndex").value;

        if (index) {
            inventory[index] = { nama, kategori, kuantiti, harga };
        } else {
            inventory.push({ nama, kategori, kuantiti, harga });
        }

        localStorage.setItem('inventory', JSON.stringify(inventory));
        this.reset();
        document.getElementById("itemIndex").value = "";
        paparkanInventory();
    });

    function editItem(index) {
        const item = inventory[index];
        document.getElementById("nama").value = item.nama;
        document.getElementById("kategori").value = item.kategori;
        document.getElementById("kuantiti").value = item.kuantiti;
        document.getElementById("harga").value = item.harga;
        document.getElementById("itemIndex").value = index;
    }

    function padamItem(index) {
        if (confirm("Anda pasti mahu memadam item ini?")) {
            inventory.splice(index, 1);
            localStorage.setItem('inventory', JSON.stringify(inventory));
            paparkanInventory();
        }
    }

    paparkanInventory();
</script>

</body>
</html>
